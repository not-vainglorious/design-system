<!--- NumberInput.stories.mdx --->

import { useState } from 'react';
import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { ArgsTable } from '@storybook/addon-docs';
import Information from '@strapi/icons/Information';
import { NumberInput } from './NumberInput';
import { Box } from '../Box';
import { Tooltip } from '../Tooltip';
import { Typography } from '../Typography';
import { Button } from '../Button';

<Meta title="Design System/Components/NumberInput" component={NumberInput} />

# NumberInput

NumberInputs are inputs that allow users to add or edit numbers. They support several number formats.

**Best practices**

- Icons are always on the right side within the input (writing area) itself, never on the left side.
- Labels should be clear and concise. A few words only and without punctuation.
- Use description line as a help to give more details about the required action.
- Make sure to use the placeholder feature whenever clarification are helpful on how to use the input.
- Make sure to use to define the input as required whenever it is absolutely mandatory.
- The error message will replace the description line. The two of them cannot be on top of each other.
- The error message can be customized, make sure to write actionable information within it to help resolve an issue.

[View source](https://github.com/strapi/design-system/tree/main/packages/strapi-design-system/src/NumberInput)

## Imports

```js
import { NumberInput } from '@strapi/design-system/NumberInput';
```

## Usage

NumberInputs are always found in forms. They give users the possibility to add or edit numbers.

<Canvas>
  <Story name="base">
    {() => {
      const [content, setContent] = useState(3.14159265359);
      return (
        <Box padding={10}>
          <NumberInput
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            error={undefined}
            onValueChange={(value) => setContent(value)}
            value={content}
            labelAction={
              <Tooltip description="Content of the tooltip">
                <button
                  aria-label="Information about the email"
                  style={{ border: 'none', padding: 0, background: 'transparent' }}
                >
                  <Information aria-hidden={true} />
                </button>
              </Tooltip>
            }
          />
          <Box as="p" padding={4} background="neutral100">
            <Typography>{`The value is ${content}`}</Typography>
          </Box>
          <button>
            <Typography>Escape</Typography>
          </button>
        </Box>
      );
    }}
  </Story>
</Canvas>

## Without label

NumberInputs can be used without a label.

<Canvas>
  <Story name="withoutLabel">
    {() => {
      const [content, setContent] = useState();
      return (
        <Box padding={10}>
          <NumberInput
            placeholder="This is a content placeholder"
            aria-label="Content"
            name="content"
            hint="Description line"
            error={undefined}
            onValueChange={(value) => { console.log('trigger'); setContent(value); }}
            value={content}
            labelAction={
              <Tooltip description="Content of the tooltip">
                <button
                  aria-label="Information about the email"
                  style={{ border: 'none', padding: 0, background: 'transparent' }}
                >
                  <Information aria-hidden={true} />
                </button>
              </Tooltip>
            }
          />
          <Box as="p" padding={4} background="neutral100">
            <Typography>{`The value is ${content}`}</Typography>
          </Box>
          <button>
            <Typography>Escape</Typography>
          </button>
        </Box>
      );
    }}
  </Story>
</Canvas>

## Size S

NumberInputs are always found in forms. They give users the possibility to add or edit numbers.

<Canvas>
  <Story name="size S">
    {() => {
      const [content, setContent] = useState();
      return (
        <Box padding={10}>
          <NumberInput
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            error={undefined}
            onValueChange={(value) => setContent(value)}
            value={content}
            size="S"
            labelAction={
              <Tooltip description="Content of the tooltip">
                <button
                  aria-label="Information about the email"
                  style={{ border: 'none', padding: 0, background: 'transparent' }}
                >
                  <Information aria-hidden={true} />
                </button>
              </Tooltip>
            }
          />
          <Box as="p" padding={4} background="neutral100">
            <Typography>{`The value is ${content}`}</Typography>
          </Box>
          <button>
            <Typography>Escape</Typography>
          </button>
        </Box>
      );
    }}
  </Story>
</Canvas>

## Required

NumberInputs required field.

<Canvas>
  <Story name="required">
    {() => {
      const [content, setContent] = useState();
      return (
        <Box padding={10}>
          <NumberInput
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            error={undefined}
            onValueChange={(value) => setContent(value)}
            value={content}
            required={true}
          />
        </Box>
      );
    }}
  </Story>
</Canvas>

## Disabled

NumberInputs disabled field.

<Canvas>
  <Story name="disabled">
    {() => {
      const [content, setContent] = useState();
      return (
        <Box padding={10}>
          <NumberInput
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            error={undefined}
            onValueChange={(value) => setContent(value)}
            value={content}
            disabled={true}
          />
        </Box>
      );
    }}
  </Story>
</Canvas>

## With initial 0

NumberInputs are always found in forms. They give users the possibility to add or edit numbers.

<Canvas>
  <Story name="with initial 0">
    {() => {
      const [content, setContent] = useState(0);
      return (
        <Box padding={10}>
          <NumberInput
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            error={undefined}
            onValueChange={(value) => setContent(value)}
            value={content}
            labelAction={
              <Tooltip description="Content of the tooltip">
                <button
                  aria-label="Information about the email"
                  style={{ border: 'none', padding: 0, background: 'transparent' }}
                >
                  <Information aria-hidden={true} />
                </button>
              </Tooltip>
            }
          />
          <Box as="p" padding={4} background="neutral100">
            <Typography>{`The value is ${content}`}</Typography>
          </Box>
          <button>
            <Typography>Escape</Typography>
          </button>
        </Box>
      );
    }}
  </Story>
</Canvas>

## With initial empty value

<Canvas>
  <Story name="with initial empty">
    {() => {
      const [content, setContent] = useState('');
      return (
        <Box padding={10}>
          <NumberInput
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            error={undefined}
            onValueChange={(value) => setContent(value)}
            value={content}
            labelAction={
              <Tooltip description="Content of the tooltip">
                <button
                  aria-label="Information about the email"
                  style={{ border: 'none', padding: 0, background: 'transparent' }}
                >
                  <Information aria-hidden={true} />
                </button>
              </Tooltip>
            }
          />
          <Box as="p" padding={4} background="neutral100">
            <Typography>{`The value is ${content}`}</Typography>
          </Box>
          <button>
            <Typography>Escape</Typography>
          </button>
        </Box>
      );
    }}
  </Story>
</Canvas>

## With initial undefined value

<Canvas>
  <Story name="with initial undefined">
    {() => {
      const [content, setContent] = useState();
      return (
        <Box padding={10}>
          <NumberInput
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            error={undefined}
            onValueChange={(value) => setContent(value)}
            value={content}
            labelAction={
              <Tooltip description="Content of the tooltip">
                <button
                  aria-label="Information about the email"
                  style={{ border: 'none', padding: 0, background: 'transparent' }}
                >
                  <Information aria-hidden={true} />
                </button>
              </Tooltip>
            }
          />
          <Box as="p" padding={4} background="neutral100">
            <Typography>{`The value is ${content}`}</Typography>
          </Box>
          <button>
            <Typography>Escape</Typography>
          </button>
        </Box>
      );
    }}
  </Story>
</Canvas>

## With outside props change (to correct value)

<Canvas>
  <Story name="with outside props change correct">
    {() => {
      const [content, setContent] = useState(1);
      return (
        <Box padding={10}>
          <NumberInput
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            error={undefined}
            onValueChange={(value) => setContent(value)}
            value={content}
            labelAction={
              <Tooltip description="Content of the tooltip">
                <button
                  aria-label="Information about the email"
                  style={{ border: 'none', padding: 0, background: 'transparent' }}
                >
                  <Information aria-hidden={true} />
                </button>
              </Tooltip>
            }
          />
          <Box as="p" padding={4} background="neutral100">
            <Typography>{`The value is ${content}`}</Typography>
          </Box>
          <button>
            <Typography>Escape</Typography>
          </button>
          <Button onClick={() => setContent(2)}>
            Change value to 2
          </Button>
        </Box>
      );
    }}
  </Story>
</Canvas>

## With outside props change (to incorrect value)

<Canvas>
  <Story name="with outside props change incorrect">
    {() => {
      const [content, setContent] = useState(1);
      return (
        <Box padding={10}>
          <NumberInput
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            error={undefined}
            onValueChange={(value) => setContent(value)}
            value={content}
            labelAction={
              <Tooltip description="Content of the tooltip">
                <button
                  aria-label="Information about the email"
                  style={{ border: 'none', padding: 0, background: 'transparent' }}
                >
                  <Information aria-hidden={true} />
                </button>
              </Tooltip>
            }
          />
          <Box as="p" padding={4} background="neutral100">
            <Typography>{`The value is ${content}`}</Typography>
          </Box>
          <button>
            <Typography>Escape</Typography>
          </button>
          <Button onClick={() => setContent('Not valid value')}>
            Change value to incorrect
          </Button>
        </Box>
      );
    }}
  </Story>
</Canvas>

## Props

<ArgsTable of={NumberInput} />
